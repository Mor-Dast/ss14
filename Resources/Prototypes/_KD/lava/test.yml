#-------------------ВСЕ НИЖЕ ЭТО РАЗРАБОТКИ КОСМОДРОМА И БУДЕТ СО СТО ПРОЦЕНТНОЙ ВЕРОЯТНОСТЬЮ ДОРАБАТЫВАТСЯ!!!-------------------

- type: entity
  parent: MicroManipulatorStockPart
  id: LavaModifierGoolfik
  name: костянной гульфик
  description: может быть надет на комбенизон утилизатора
  components:
  - type: Sprite
    sprite: _KD/Lava/goolfik.rsi
    scale: 0.5, 0.5
    layers:
      - state: item
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: Construction
    graph: LavaKombez1
    node: start 
  - type: Tag
    tags:
    - LavaModifierCraftingG

- type: entity
  parent: ClothingUniformJumpsuitSalvageSpecialist
  id: ClothingUniformJumpsuitSalvageSpecialist1
  name: комбинезон утилизатора
  description: комбинезон утиля но с гульфиком
  components:
  - type: Armor
    modifiers:
      coefficients:
        Blunt: 0.9
        Slash: 0.9
        Piercing: 0.9

- type: constructionGraph
  id: LavaKombez1
  start: start
  graph:
    - node: start
      edges:
        - to: upgraded
          steps: 
            - tag: LavaModifierCraftingG
              doAfter: 2

    - node: upgraded
      entity:  ClothingUniformJumpsuitSalvageSpecialist1

- type: entity
  parent: [ClothingEyesBase, ShowSecurityIcons, ]
  id: ClothingEyesGodEye
  name: глаз бога
  description: Старый артефакт который охроняет древний арх ангел колосс.
  components:
  - type: ShowHealthBars
    damageContainers:
    - Inorganic
    - Silicon
    - Biological
    - HalfSpirit
  - type: ShowThirstIcons
  - type: ShowHungerIcons
  - type: ShowHealthIcons
    damageContainers:
    - Biological
    - HalfSpirit
  - type: ShowSyndicateIcons

- type: entity
  name: волшебный меч
  parent: BaseItem
  id: Spellblade
  description: Выкованный в адской кузнице, способный на растроинии убить вашу цель.
  components:
  - type: Sharp
  - type: Sprite
    sprite: _KD/Lava/sword.rsi
    scale: 0.5, 0.5
    layers:
      - state: icon
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: MeleeWeapon
    attackRate: 1
    damage:
      types:
        Slash: 20
    soundHit:
        path: /Audio/Weapons/Rapier.ogg
  - type: Item
    size: Normal
    sprite: _KD/Lava/sword.rsi
  - type: DisarmMalus
  - type: ProjectileBatteryAmmoProvider
    proto: Razrez
    fireCost: 100
  - type: BatterySelfRecharger
    autoRecharge: true
    autoRechargeRate: 100
  - type: Gun
    useKey: false
    projectileSpeed: 75
    soundGunshot:
      path: /Audio/Weapons/Rapier.ogg
  - type: Battery
    maxCharge: 101
    startingCharge: 101

- type: entity
  name: лазерная пуля
  id: Razrez
  parent: EmitterBolt
  noSpawn: true
  components:
  - type: Sprite
    sprite: _KD/Lava/razrez.rsi
    layers:
    - state: ammo
      shader: unshaded
  - type: Projectile
    damage:
      types:
        Slash: 12

- type: entity
  id: WallRockBasaltLava
  parent: WallRockBasalt
  name: базальт
  suffix: ляваленд епти
  description: An asteroid.
  components:
  - type: OreVein
    oreChance: 0.28
    oreRarityPrototypeId: RandomOreDistributionStandard

- type: entity
  parent: DeviceQuantumSpinInverter
  id: DeviceQuantumSpinKybBlue
  name: синий куб
  description: Древний артефакт.
  components:
  - type: SwapTeleporter
    cooldown: 1
    teleporterWhitelist:
      tags:
      - DeviceQuantumSpinKybRed
  - type: Sprite
    sprite: Objects/Specific/Robotics/mmi.rsi
    layers:
      - state: posibrain
        map: ["enum.DamageStateVisualLayers.Base"]
    color: "#0000FF"
  - type: Tag
    tags:
    - DeviceQuantumSpinKybBlue
  - type: GenericVisualizer
    visuals:
      enum.SwapTeleporterVisuals.Linked:
        base:
          True: { state: posibrain-occupied }
  - type: SmokeOnTrigger
    duration: 10
    spreadAmount: 25

- type: entity
  parent: DeviceQuantumSpinInverter
  id: DeviceQuantumSpinKybRed
  name: красный куб
  description: Древний артефакт.
  components:
  - type: SwapTeleporter
    cooldown: 1
    teleporterWhitelist:
      tags:
      - DeviceQuantumSpinKybBlue
  - type: Sprite
    color: "#FF0000"
    sprite: Objects/Specific/Robotics/mmi.rsi
    layers:
      - state: posibrain
        map: ["enum.DamageStateVisualLayers.Base"]
  - type: Tag
    tags:
    - DeviceQuantumSpinKybRed
  - type: GenericVisualizer
    visuals:
      enum.SwapTeleporterVisuals.Linked:
        base:
          True: { state: posibrain-occupied }
  - type: SmokeOnTrigger
    duration: 10
    spreadAmount: 25

- type: htnCompound
  id: Coloss
  branches:
    - tasks:
        - !type:HTNPrimitiveTask
          operator: !type:UtilityOperator
            proto: NearbyGunTargets
        - !type:HTNPrimitiveTask
          operator: !type:MoveToOperator
            shutdownState: PlanFinished
            pathfindInPlanning: true
            removeKeyOnFinish: false
            targetKey: TargetCoordinates
            pathfindKey: TargetPathfind
            stopOnLineOfSight: true
            rangeKey: MeleeRange
        - !type:HTNPrimitiveTask
          operator: !type:JukeOperator
            jukeType: AdjacentTile
        - !type:HTNPrimitiveTask
          operator: !type:SpeakOperator
            speech: Сдохни обезьяна!
        - !type:HTNPrimitiveTask
          preconditions:
            - !type:KeyExistsPrecondition
              key: Target
          operator: !type:GunOperator
            targetKey: Target
          services:
            - !type:UtilityService
              id: RangedService
              proto: NearbyGunTargets
              key: Target
        - !type:HTNPrimitiveTask
          operator: !type:SpeakOperator
            speech: Ничтожная мартышка!

- type: entity
  id: ActionPolymorfDrake
  name: Превратится в низшего дракона
  description: Превращает вас в низшего дракона.
  noSpawn: true
  components:
  - type: InstantAction
    checkCanInteract: false
    charges: 2
    useDelay: 5
    itemIconStyle: BigAction
    priority: -20
    icon:
      sprite: Structures/Specific/anomaly.rsi
      state: anom4
    event: !type:PolymorphActionEvent
      protoId: MobAshDrake

- type: entity
  id: LavaDrakeImplanter
  name: 1ТЕСТ
  parent: BaseImplantOnlyImplanter
  components:
    - type: Implanter
      implant: ActionPolymorfDrake 