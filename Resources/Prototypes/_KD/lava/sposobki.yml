- type: entity
  id: AttackLava
  parent: WeaponArcStatic
  noSpawn: true
  components:
    - type: WeaponArcVisuals
      fadeOut: false
    - type: Sprite
      sprite: _KD/Lava/telegraph.rsi
      layers:
        - state: bite
    - type: TimedDespawn
      lifetime: 0.399 
  
- type: emoteSounds
  id: UnisexBreath
  params:
    variation: 0.125
  sounds:
    Scream:
      path: /Audio/lavaland/monsters-breath_g1bqzbeu.ogg
    Laugh:
      path: /Audio/lavaland/monsters-breath_g1bqzbeu.ogg
    Chitter:
      path: /Audio/lavaland/monsters-breath_g1bqzbeu.ogg
    Click:
      path: /Audio/lavaland/monsters-breath_g1bqzbeu.ogg
    Weh:
      collection: Weh   
          
- type: entity
  parent: BaseSubdermalImplant
  id: LavaLightImplant
  name: Свет.
  description: Указывает вам путь.
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionToggleLight
    - type: PointLight
      enabled: false
      radius: 5
      softness: 5
      color: "#ff4242"      
      mask: /Textures/Effects/LightMasks/cone.png
      autoRot: true
    - type: Tag
      tags:
        - SubdermalImplant
        - HideContextMenu
        - Flashlight
    - type: UnpoweredFlashlight  
  

- type: entity
  id: LavaLightImplanter
  name: Свет.
  parent: BaseImplantOnlyImplanter
  components:
    - type: Implanter
      implant: LavaLightImplant   


- type: entity
  id: SpiderWebUsual #Паутина без шелка. 
  name: капкан
  description: Ловушка!
  parent: SpiderWeb 
  placement:
    mode: SnapgridCenter
    snap:
      - Wall
  components:
    - type: TimedDespawn #Система цикла
      lifetime: 5         
      ignoreWhitelist:
        components:
            - IgnoreSpiderWeb    
    - type: MeleeSound
      soundGroups:
        Brute:
          path:
            "/Audio/Weapons/slash.ogg"
    - type: Sprite
      sprite: _KD/Lava/telegraph.rsi
      layers:
        - state: target_circle
          map: ["spiderWebLayer"]
      drawdepth: WallMountedItems
    - type: Appearance
    - type: GenericVisualizer
      visuals:
        enum.SpiderWebVisuals.Variant:
          spiderWebLayer:
            1:  {state: target_circle}
            2:  {state: target_circle}
    - type: Clickable
    - type: Transform
      anchored: true
    - type: Physics
    - type: Fixtures
      fixtures:
        fix1:
          hard: false
          density: 7
          shape:
            !type:PhysShapeAabb
            bounds: "-0.5,-0.5,0.5,0.5"
          layer:
          - MidImpassable
    - type: Damageable
      damageModifierSet: Wood
    - type: Destructible
      thresholds:
      - trigger:
          !type:DamageTrigger
          damage: 10
        behaviors:
        - !type:DoActsBehavior
          acts: [ "Destruction" ]
    - type: Temperature
      heatDamage:
        types:
          Heat: 5
      coldDamage: {}
      coldDamageThreshold: 0
    - type: Flammable
      fireSpread: true
      damage:
        types:
          Heat: 5
    - type: Reactive
      groups:
        Flammable: [Touch]
        Extinguish: [Touch]
    - type: SpiderWebObject
    - type: SpeedModifierContacts #Замедление паутины
      walkSpeedModifier: 0.3
      sprintSpeedModifier: 0.3
      ignoreWhitelist:
        components:
            - IgnoreSpiderWeb

- type: entity
  id: ActionSpawnMagicarpBubblegum #Заклинание призыва лавы 1
  name: Замедлить врага.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 3 
    range: 15
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/telegraph.rsi
      state: target_circle
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: SpiderWebUsual
        amount: 1
      offset: 0, 1
      speech: Кссс...!??

- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderBubblegum
  name: Замедлить врага.
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpBubblegum

- type: entity
  id: ActionSpawnMagicarpBubblegumRune #Заклинание призыва лавы 1
  name: Создать руну воспламенения
  description: Создает руну воспламениния, которая пропадает через 15 секунд.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 25 #КД
    range: 8
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/telegraph.rsi
      state: target_circle
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: IgniteRuneRune
        amount: 1
      offset: 0, 1
      speech: Кссс...!??

- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderBubblegumRune
  name: Создать руну воспламенения
  description: Создает руну воспламениния, которая пропадает через 15 секунд.
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpBubblegumRune      #Суда заклинание 

- type: entity
  parent: IgniteRune 
  id: IgniteRuneRune
  name: руна воспламенения
  description: 
  noSpawn: true
  components:
    - type: TimedDespawn #Система цикла
      lifetime: 15         
      ignoreWhitelist:

- type: entity
  id: ActionBlinkBubblegumJump
  name: Разбег. 
  description: Вы разбегаетесь со скоростью света в определенную точку.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 30
    range: 8 
    itemIconStyle: BigAction
    checkCanAccess: false
    repeat: true
    icon:
      sprite: Objects/Magic/magicactions.rsi
      state: blink
    event: !type:TeleportSpellEvent
    
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderActionBlinkBubblegumJump
  name: Разбег. 
  description: Вы разбегаетесь со скоростью света в определенную точку.
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionBlinkBubblegumJump

- type: entity 
  id: WoodenSupportBubblegum
  name: Стена!
  description: Убегай!
  parent: WoodenSupport
  components:
  - type: Sprite
    sprite: _KD/Lava/telegraph.rsi
    state: hoarder_circle
  - type: Fixtures
    fixtures:
      fix1:
        hard: false
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        mask:
        - FullTileMask
        layer:
        - WallLayer
        density: 1000 
  - type: TimedDespawn #Система цикла
    lifetime: 8
  - type: SpawnOnDespawn
    prototype: FloorLavaEntityBubblegum


- type: entity 
  id: FloorLavaEntityBubblegum
  name: мясная стена
  description: Липко!
  parent: WallMeat 
  components:
  - type: TimedDespawn 
    lifetime: 8  

- type: entity
  id: ActionSpawnMagicarpBubblegumWall  #Заклинание призыва лавы 1
  name: Создать стену.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 8 #КД
    range: 15
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/telegraph.rsi
      state: hoarder_circle
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: WoodenSupportBubblegum
        amount: 5
      offset: 0, 1
      speech: Кссс...!??        
      
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: BaseSubdermalImplantWall 
  name: Создать стену.
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpBubblegumWall



- type: entity
  id: ProjectileAnomalyFireballDrake #Пуля
  name: убегай!
  description: Пламя огня!
  parent: ProjectileFireball
  noSpawn: true
  components:
  - type: TimedDespawn
    lifetime: 30
  - type: Explosive
    explosionType: Default
    maxIntensity: 100
    intensitySlope: 0.1
    totalIntensity: 0.3
    maxTileBreak: 0   
  - type: ClusterGrenade
    fillPrototype: PelletClusterIncendiary
    maxGrenadesCount: 30
    grenadeType: enum.GrenadeType.Shoot
  - type: OnUseTimerTrigger
    beepSound:
      path: "/Audio/Effects/beep1.ogg"
      params:
        volume: 5
    initialBeepDelay: 0
    beepInterval: 2
  - type: EmitSoundOnTrigger
    sound:
      path: "/Audio/Weapons/Guns/Gunshots/batrifle.ogg"
  - type: ContainerContainer
    containers:
      cluster-payload: !type:Container  
  - type: IgnitionSource
    ignited: true   
    
    
#Лава    
- type: entity 
  id: WoodenSupportBeamDrake
  name: лава!
  description: Убегай!
  parent: WoodenSupport
  components:
  - type: Sprite
    sprite: _KD/Lava/telegraph.rsi
    state: skull
  - type: Fixtures
    fixtures:
      fix1:
        hard: false
        shape:
          !type:PhysShapeAabb
          bounds: "-0.5,-0.5,0.5,0.5"
        mask:
        - FullTileMask
        layer:
        - WallLayer
        density: 1000 
  - type: TimedDespawn #Система цикла
    lifetime: 2
  - type: SpawnOnDespawn
    prototype: FloorLavaEntityDrake   #Система цикла        
        
- type: entity 
  id: FloorLavaEntityDrake
  name: лава
  description: Не прыгай туда!
  parent: FloorLavaEntity 
  components:
  - type: TimedDespawn 
    lifetime: 15

- type: entity
  id: ActionSpawnMagicarpDrake #Заклинание призыва лавы 3
  name: Призвать лаву
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 5 #КД
    range: 15
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/telegraph.rsi
      state: skull
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: WoodenSupportBeamDrake
        amount: 3
      offset: 0, 1
      speech: Кссс...!??   

- type: entity
  id: ActionSpawnMagicarpDrakeOne #Заклинание призыва лавы 1
  name: Призвать одну лаву
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 1 #КД
    range: 15
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/telegraph.rsi
      state: skull
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: WoodenSupportBeamDrake
        amount: 1
      offset: 0, 1
      speech: Кссс...!??        
      
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderDrake
  name: Призвать лаву
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpDrake
      
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderDrakeOne
  name: Призвать лаву
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpDrakeOne

- type: entity 
  id: ActionSpawnMagicarpLegion #Заклинание призыва черепов
  name: Призыв черепа легиона.
  description: Выпускает череп легиона.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 6 #КД
    range: 2
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/healing_toolbox.rsi
      state: icon
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: MobDinosaurAnkiSmallSmall
        amount: 1
      offset: 0, 1
      speech: Кссс...!??       
      
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderLegion 
  name: Откладывание яиц охотника
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpLegion

- type: entity 
  id: ActionSpawnMagicarpLegionBig 
  name: Призвать легиона.
  description: Призывает Легиона, который пропадает через 20 секунд.
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 12 #КД
    range: 2
    itemIconStyle: BigAction
    icon:
      sprite: _KD/Lava/healing_toolbox.rsi
      state: icon
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: MobDinosaurAnkiSmallBig
        amount: 1
      offset: 0, 1
      speech: Кссс...!??       
      
- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderLegionBig 
  name: Откладывание яиц охотника
  description: 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpLegionBig      #Суда заклинание   

- type: entity
  parent: MobDinosaurAnkiSmall  
  id: MobDinosaurAnkiSmallBig
  noSpawn: true
  name: легион #Большой
  suffix: Лава
  components:
  - type: TimedDespawn #Система цикла
    lifetime: 20

- type: entity
  parent: BaseSubdermalImplant #Сам имплант 
  id: LightImplantSpiderResident
  name: Откладывание яиц 
  noSpawn: true
  components:
    - type: SubdermalImplant
      implantAction: ActionSpawnMagicarpSpellSpiderResident      #Суда заклинание
    - type: PointLight
      enabled: false
      radius: 1
      softness: 5
      color: "#ff4242"
      mask: /Textures/Effects/LightMasks/cone.png
      autoRot: true
    - type: Tag
      tags:
        - SubdermalImplant
        - HideContextMenu
        - Flashlight
    - type: UnpoweredFlashlight  

- type: entity 
  id: ActionSpawnMagicarpSpellSpiderResident #Заклинание призыва охранника
  name: Создание яиц.
  description: ЖЕЕЕЕНЩИНА!!!! или нет?...
  noSpawn: true
  components:
  - type: WorldTargetAction
    useDelay: 400 #КД
    range: 1
    itemIconStyle: BigAction
    icon:
      sprite: Objects/Magic/magicactions.rsi 
      state: magicmissile
    event: !type:WorldSpawnSpellEvent
      prototypes:
      - id: FoodEggResident
        amount: 1
      offset: 0, 1
      speech: UUGA BUGA!

